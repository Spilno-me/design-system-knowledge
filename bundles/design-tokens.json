{
  "domain": "design-tokens",
  "version": "1.0.0",
  "entries": [
    {
      "id": "design-tokens-forbidden-bg-blue-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Forbidden: bg-blue-\\d+",
      "severity": "critical",
      "description": "Use semantic bg-primary-* tokens",
      "context": "Token usage validation",
      "tags": [
        "tokens",
        "forbidden",
        "validation"
      ]
    },
    {
      "id": "design-tokens-forbidden-text-red-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Forbidden: text-red-\\d+",
      "severity": "critical",
      "description": "Use semantic text-error-* or text-destructive-* tokens",
      "context": "Token usage validation",
      "tags": [
        "tokens",
        "forbidden",
        "validation"
      ]
    },
    {
      "id": "design-tokens-forbidden-bg-slate-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Forbidden: bg-slate-\\d+",
      "severity": "critical",
      "description": "Use semantic bg-neutral-* tokens",
      "context": "Token usage validation",
      "tags": [
        "tokens",
        "forbidden",
        "validation"
      ]
    },
    {
      "id": "design-tokens-forbidden-bg-gray-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Forbidden: bg-gray-\\d+",
      "severity": "critical",
      "description": "Use semantic bg-neutral-* tokens",
      "context": "Token usage validation",
      "tags": [
        "tokens",
        "forbidden",
        "validation"
      ]
    },
    {
      "id": "design-tokens-forbidden-0-9a-fa-f-6",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Forbidden: #[0-9a-fA-F]{6}",
      "severity": "critical",
      "description": "Hardcoded hex colors bypass theming",
      "context": "Token usage validation",
      "tags": [
        "tokens",
        "forbidden",
        "validation"
      ]
    },
    {
      "id": "design-tokens-forbidden-0-9a-fa-f-3-0-9a-fa-f",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Forbidden: #[0-9a-fA-F]{3}(?![0-9a-fA-F])",
      "severity": "critical",
      "description": "Hardcoded shorthand hex colors bypass theming",
      "context": "Token usage validation",
      "tags": [
        "tokens",
        "forbidden",
        "validation"
      ]
    },
    {
      "id": "design-tokens-forbidden-rgb",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Forbidden: rgb\\([^)]+\\)",
      "severity": "critical",
      "description": "rgb() values bypass theming",
      "context": "Token usage validation",
      "tags": [
        "tokens",
        "forbidden",
        "validation"
      ]
    },
    {
      "id": "design-tokens-forbidden-rgba",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Forbidden: rgba\\([^)]+\\)",
      "severity": "warning",
      "description": "Use Tailwind opacity modifiers (bg-primary-500/50)",
      "context": "Token usage validation",
      "tags": [
        "tokens",
        "forbidden",
        "validation"
      ]
    },
    {
      "id": "design-tokens-forbidden-hsl",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Forbidden: hsl\\([^)]+\\)",
      "severity": "critical",
      "description": "hsl() values bypass theming",
      "context": "Token usage validation",
      "tags": [
        "tokens",
        "forbidden",
        "validation"
      ]
    },
    {
      "id": "design-tokens-forbidden-hsla",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Forbidden: hsla\\([^)]+\\)",
      "severity": "warning",
      "description": "Use Tailwind opacity modifiers",
      "context": "Token usage validation",
      "tags": [
        "tokens",
        "forbidden",
        "validation"
      ]
    },
    {
      "id": "design-tokens-priority-rank-1-semantic",
      "type": "pattern",
      "domain": "design-tokens",
      "title": "Token Priority 1: Semantic",
      "severity": "critical",
      "description": "Color conveys meaning. Examples: text-warning, bg-error, border-success",
      "context": "Semantic tokens first. Always prefer tokens that convey meaning.",
      "why": "Self-documenting (code reads as intent); Theme-aware (dark mode automatic); Consistent (all warnings look the same); Maintainable (change once, updates everywhere)",
      "tags": [
        "tokens",
        "priority",
        "semantic",
        "semantic"
      ]
    },
    {
      "id": "design-tokens-priority-rank-2-contextual",
      "type": "pattern",
      "domain": "design-tokens",
      "title": "Token Priority 2: Contextual",
      "severity": "critical",
      "description": "UI structure (text, backgrounds). Examples: text-primary, bg-surface, border-default",
      "context": "Semantic tokens first. Always prefer tokens that convey meaning.",
      "why": "Self-documenting (code reads as intent); Theme-aware (dark mode automatic); Consistent (all warnings look the same); Maintainable (change once, updates everywhere)",
      "tags": [
        "tokens",
        "priority",
        "semantic",
        "contextual"
      ]
    },
    {
      "id": "design-tokens-priority-rank-3-primitive",
      "type": "pattern",
      "domain": "design-tokens",
      "title": "Token Priority 3: Primitive",
      "severity": "critical",
      "description": "Only when neither above fits. Examples: text-primary-500, bg-error-200",
      "context": "Semantic tokens first. Always prefer tokens that convey meaning.",
      "why": "Self-documenting (code reads as intent); Theme-aware (dark mode automatic); Consistent (all warnings look the same); Maintainable (change once, updates everywhere)",
      "tags": [
        "tokens",
        "priority",
        "semantic",
        "primitive"
      ]
    },
    {
      "id": "design-tokens-styling-prefer-tailwind",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Prefer Tailwind classes over inline styles",
      "severity": "warning",
      "description": "Always prefer Tailwind utility classes over inline styles or CSS modules. Tailwind classes are theme-aware (dark: variants work automatically), responsive (md:, lg: prefixes), stateful (hover:, focus: variants), and produce smaller bundles via PurgeCSS. Inline styles bypass all of this — they can't be themed, don't respond to breakpoints, and increase specificity unpredictably. The only valid exceptions are truly dynamic computed values (tooltip positioning, animated transforms) where the value comes from JavaScript at runtime.",
      "example": "Good: className='bg-primary-500 hover:bg-primary-600 text-white'. Bad: style={{ backgroundColor: '#3B82F6', color: 'white' }}",
      "context": "Avoid !important: Fix specificity at source instead",
      "tags": [
        "tokens",
        "styling",
        "tailwind"
      ]
    },
    {
      "id": "design-tokens-recommendations-map",
      "type": "pattern",
      "domain": "design-tokens",
      "title": "Token replacement recommendations",
      "severity": "suggestion",
      "description": "Comprehensive color-to-token migration map. Backgrounds: bg-blue-* → bg-primary-*, bg-red-* → bg-error-*, bg-green-* → bg-success-*, bg-yellow-* → bg-warning-*, bg-gray-* → bg-neutral-*, bg-slate-* → bg-neutral-*, bg-zinc-* → bg-neutral-*. Text: text-blue-* → text-primary-*, text-red-* → text-error-*, text-green-* → text-success-*, text-gray-* → text-neutral-*, text-slate-* → text-neutral-*. Borders: border-blue-* → border-primary-*, border-red-* → border-error-*, border-gray-* → border-neutral-*. Hex values: #DC0000 → bg-primary-500, #000000 → bg-neutral-900, #FFFFFF → bg-white, #F3F4F6 → bg-neutral-100, #1F2937 → text-neutral-800. Ring: ring-blue-* → ring-primary-*, ring-red-* → ring-error-*.",
      "tags": [
        "tokens",
        "migration",
        "recommendations"
      ]
    },
    {
      "id": "design-tokens-violation-bg-blue-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using Tailwind standard blue colors",
      "severity": "critical",
      "description": "Use bg-primary-* or bg-accent-*",
      "example": "Auto-fix: bg-blue-(\\d+) → bg-primary-$1",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-bg-red-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using Tailwind standard red colors",
      "severity": "critical",
      "description": "Use bg-error-* or bg-destructive-*",
      "example": "Auto-fix: bg-red-(\\d+) → bg-error-$1",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-bg-green-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using Tailwind standard green colors",
      "severity": "critical",
      "description": "Use bg-success-*",
      "example": "Auto-fix: bg-green-(\\d+) → bg-success-$1",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-bg-yellow-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using Tailwind standard yellow colors",
      "severity": "critical",
      "description": "Use bg-warning-*",
      "example": "Auto-fix: bg-yellow-(\\d+) → bg-warning-$1",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-bg-gray-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using Tailwind standard gray colors",
      "severity": "critical",
      "description": "Use bg-neutral-*",
      "example": "Auto-fix: bg-gray-(\\d+) → bg-neutral-$1",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-bg-slate-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using Tailwind standard slate colors",
      "severity": "critical",
      "description": "Use bg-neutral-*",
      "example": "Auto-fix: bg-slate-(\\d+) → bg-neutral-$1",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-text-blue-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using Tailwind standard blue text colors",
      "severity": "critical",
      "description": "Use text-primary-*",
      "example": "Auto-fix: text-blue-(\\d+) → text-primary-$1",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-text-red-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using Tailwind standard red text colors",
      "severity": "critical",
      "description": "Use text-error-* or text-destructive-*",
      "example": "Auto-fix: text-red-(\\d+) → text-error-$1",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-text-green-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using Tailwind standard green text colors",
      "severity": "critical",
      "description": "Use text-success-*",
      "example": "Auto-fix: text-green-(\\d+) → text-success-$1",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-text-gray-d",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using Tailwind standard gray text colors",
      "severity": "critical",
      "description": "Use text-neutral-* or text-muted-*",
      "example": "Auto-fix: text-gray-(\\d+) → text-neutral-$1",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-0-9a-fa-f-6",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Hardcoded hex colors",
      "severity": "critical",
      "description": "Use design system tokens (bg-primary-*, text-neutral-*, etc.)",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-0-9a-fa-f-3-0-9a-fa-f",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Hardcoded shorthand hex colors",
      "severity": "critical",
      "description": "Use design system tokens",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-rgb",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using rgb() color values",
      "severity": "critical",
      "description": "Use design system tokens",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-rgba",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using rgba() color values",
      "severity": "warning",
      "description": "Use design system tokens with opacity modifiers (bg-primary-500/50)",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-hsl",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Using hsl() color values",
      "severity": "critical",
      "description": "Use design system tokens",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-text-d-px",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Arbitrary text size breaks typography scale",
      "severity": "critical",
      "description": "Use text-xs, text-sm, text-base, text-lg, text-xl, text-2xl",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-violation-text-d-rem",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Arbitrary text size in rem breaks typography scale",
      "severity": "critical",
      "description": "Use text-xs, text-sm, text-base, text-lg, text-xl, text-2xl",
      "tags": [
        "tokens",
        "validation",
        "violation"
      ]
    },
    {
      "id": "design-tokens-guidance-button",
      "type": "pattern",
      "domain": "design-tokens",
      "title": "Token guidance: button",
      "severity": "suggestion",
      "description": "Recommended tokens for button component: primary: background: bg-primary-500, text: text-white, hover: hover:bg-primary-600, focus: ring-2 ring-primary-500, disabled: disabled:bg-neutral-100 disabled:text-neutral-400; secondary: background: bg-neutral-100, text: text-neutral-900, hover: hover:bg-neutral-200, focus: ring-2 ring-neutral-500",
      "tags": [
        "tokens",
        "guidance",
        "button"
      ]
    },
    {
      "id": "design-tokens-guidance-card",
      "type": "pattern",
      "domain": "design-tokens",
      "title": "Token guidance: card",
      "severity": "suggestion",
      "description": "Recommended tokens for card component: default: background: bg-white, border: border border-neutral-200, shadow: shadow-sm, text: text-neutral-900; elevated: background: bg-white, shadow: shadow-md, text: text-neutral-900",
      "tags": [
        "tokens",
        "guidance",
        "card"
      ]
    },
    {
      "id": "design-tokens-guidance-input",
      "type": "pattern",
      "domain": "design-tokens",
      "title": "Token guidance: input",
      "severity": "suggestion",
      "description": "Recommended tokens for input component: default: background: bg-white, border: border border-neutral-300, text: text-neutral-900, placeholder: placeholder:text-neutral-500, focus: focus:ring-2 focus:ring-primary-500",
      "tags": [
        "tokens",
        "guidance",
        "input"
      ]
    },
    {
      "id": "design-tokens-guidance-badge",
      "type": "pattern",
      "domain": "design-tokens",
      "title": "Token guidance: badge",
      "severity": "suggestion",
      "description": "Recommended tokens for badge component: default: background: bg-neutral-100, text: text-neutral-700; primary: background: bg-primary-100, text: text-primary-700",
      "tags": [
        "tokens",
        "guidance",
        "badge"
      ]
    },
    {
      "id": "design-tokens-styling-troubleshooting",
      "type": "pattern",
      "domain": "design-tokens",
      "title": "Styling troubleshooting: 3 common token problems and fixes",
      "severity": "suggestion",
      "description": "Three common design token problems and their fixes. (1) Color not applying: Check that the token exists in tailwind.config.ts theme.extend.colors — custom tokens like bg-primary-500 need explicit configuration. Verify you're using the correct prefix (bg-, text-, border-). (2) Dark mode not switching: Ensure the token has a dark: variant defined or uses CSS custom properties that switch per theme. Check that the dark mode strategy (class or media) matches your setup. (3) Token looks wrong in one component: Check for CSS specificity conflicts — a parent's background-color may be overriding via inheritance. Use browser DevTools to inspect computed styles and find the winning rule.",
      "tags": [
        "tokens",
        "troubleshooting",
        "debugging"
      ]
    },
    {
      "id": "design-tokens-styling-exceptions",
      "type": "rule",
      "domain": "design-tokens",
      "title": "When inline styles or raw CSS are acceptable exceptions",
      "severity": "suggestion",
      "description": "Token-based styling has legitimate exceptions. (1) MDX documentation: inline styles in .mdx files for documentation examples are acceptable since they demonstrate concepts, not ship as UI. (2) Third-party library overrides: when a library doesn't expose className props and only accepts style objects, use inline styles as a last resort. (3) Dynamic computed values: tooltip/popover positioning (top, left from JS calculations), animation keyframe values, or canvas/SVG coordinates that change at runtime. (4) Print stylesheets: @media print rules often need specific overrides. In all cases, add a comment explaining why the exception exists.",
      "tags": [
        "tokens",
        "styling",
        "exceptions",
        "inline-styles"
      ]
    },
    {
      "id": "design-tokens-when-primitive-ok",
      "type": "rule",
      "domain": "design-tokens",
      "title": "When primitive color values are acceptable",
      "severity": "suggestion",
      "description": "Primitive tokens (bg-primary-500, text-neutral-700) are the lowest priority but valid in specific cases. (1) Decorative elements: borders, dividers, and background accents where no semantic meaning exists (a gradient decoration, a subtle separator). (2) Brand illustrations and custom graphics: SVG fills, canvas colors, and marketing hero elements that intentionally use specific brand shades. (3) One-off effects: a specific hover highlight, a custom focus ring color, or a loading skeleton shimmer that doesn't map to any semantic concept. (4) Data visualization: chart colors that need a specific palette. Always check semantic tokens first — if text-warning or bg-error fits, use those instead.",
      "tags": [
        "tokens",
        "primitive",
        "exceptions",
        "acceptable-use"
      ]
    },
    {
      "id": "design-tokens-migration-autofix-patterns",
      "type": "pattern",
      "domain": "design-tokens",
      "title": "Token migration: consolidated auto-fix regex patterns",
      "severity": "suggestion",
      "description": "Regex patterns for automated token migration in codebases. Background colors: bg-(blue|indigo)(-(\\d+))? → bg-primary-$3, bg-(red|rose)(-(\\d+))? → bg-error-$3, bg-(green|emerald)(-(\\d+))? → bg-success-$3, bg-(yellow|amber)(-(\\d+))? → bg-warning-$3, bg-(gray|slate|zinc)(-(\\d+))? → bg-neutral-$3. Text colors: text-(blue|indigo)(-(\\d+))? → text-primary-$3, text-(red|rose)(-(\\d+))? → text-error-$3, text-(green|emerald)(-(\\d+))? → text-success-$3, text-(gray|slate|zinc)(-(\\d+))? → text-neutral-$3. Borders: border-(blue|indigo)(-(\\d+))? → border-primary-$3, border-(gray|slate)(-(\\d+))? → border-neutral-$3. Run these patterns with manual review — some blue colors may be accent, not primary.",
      "tags": [
        "tokens",
        "migration",
        "autofix",
        "regex"
      ]
    },
    {
      "id": "design-tokens-avoid-important",
      "type": "rule",
      "domain": "design-tokens",
      "title": "Never use !important — fix specificity at the source",
      "severity": "critical",
      "description": "!important is almost always a band-aid for a specificity problem that should be fixed at the source. Common root causes and fixes: (1) Third-party CSS overriding Tailwind: use @layer to control cascade order — Tailwind's @layer utilities ensures utility classes win. (2) Component styles leaking: scope styles properly or use CSS modules. (3) Global resets too aggressive: narrow the selector. (4) Inline styles: convert to Tailwind classes. The only valid use of !important is in Tailwind's ! prefix for genuinely irreconcilable third-party conflicts where the library cannot be configured and no other workaround exists.",
      "counterExample": "Bad: className='!bg-primary-500' or style={{ backgroundColor: '#3B82F6 !important' }}. Fix: identify why the base style is winning and fix that.",
      "tags": [
        "tokens",
        "styling",
        "important",
        "specificity"
      ]
    }
  ]
}